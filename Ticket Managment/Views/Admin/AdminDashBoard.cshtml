@using Ticket_Management.DAL.Model
@model IEnumerable<CustomerTicket>

<!DOCTYPE html>
<html>
<head>
    <style>
        #customers {
            font-family: Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

            #customers td, #customers th {
                border: 1px solid #ddd;
                padding: 8px;
            }

            #customers tr:nth-child(even) {
                background-color: #f2f2f2;
            }

            #customers tr:hover {
                background-color: #ddd;
            }

            #customers th {
                padding-top: 12px;
                padding-bottom: 12px;
                text-align: left;
                background-color: #0d6efd;
                color: white;
            }
    </style>
</head>
<body>


    <h1>Tickets Table</h1>
    <a asp-action="Filter" class="btn btn-primary mb-3">Search</a>

    <table id="customers">
        <thead>
            <tr>
                <th>Ticket Id</th>
                <th>Description</th>
                <th>CreatedDate</th>
                <th>Issue Type</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Details</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.TicketId</td>
                    <td>@item.Description</td>
                    <td>@item.CreatedDate</td>
                    <td>@item.IssueType.IssueTypeName</td>
                    <td>@item.Priority.PriorityName</td>
                    <td>@item.Status.StatusName</td>
                    <td>
                        <a asp-controller="Admin"
                           asp-action="Details"
                           asp-route-id="@item.TicketId">Details</a>
                    </td>
                    <td>
                        <a asp-controller="Admin"
                           asp-action="Edit"
                           asp-route-id="@item.TicketId">Edit</a>
                    </td>

                </tr>
            }

        </tbody>
    </table>

</body>
</html>


